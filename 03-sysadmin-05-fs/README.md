### 1. Узнайте о sparse (разряженных) файлах.

- Разрежённый файл (англ. sparse file) — файл, в котором последовательности нулевых байтов[1] заменены на информацию об этих последовательностях (список дыр).

- Дыра (англ. hole) — последовательность нулевых байт внутри файла, не записанная на диск. Информация о дырах (смещение от начала файла в байтах и количество байт) хранится в метаданных ФС. 

### 2. Могут ли файлы, являющиеся жесткой ссылкой на один объект, иметь разные права доступа и владельца? Почему?

- Нет не могут, так как у hard link и у файла будет одна и та же inode, и соотвественно, те же права.

### 3. Сделайте vagrant destroy на имеющийся инстанс Ubuntu. Замените содержимое Vagrantfile следующим(...) Данная конфигурация создаст новую виртуальную машину с двумя дополнительными неразмеченными дисками по 2.5 Гб.

![5-3.png](5-3.png)

### 4. Используя fdisk, разбейте первый диск на 2 раздела: 2 Гб, оставшееся пространство.

![5-4.png](5-4.png)

### 5. Используя sfdisk, перенесите данную таблицу разделов на второй диск.

>sfdisk -d /dev/sdb|sfdisk -f /dev/sdc

![5-5.png](5-5.png)

### 6. Соберите mdadm RAID1 на паре разделов 2 Гб.
> wipefs --all --force /dev/sd{b1,c1}
> 
> mdadm --create --verbose /dev/md0 -l 1 -n 2 /dev/sd{b1,c1}
> 
> -l 1 - уровень рейда

![5-6.png](5-6.png)

### 7. Соберите mdadm RAID0 на второй паре маленьких разделов.

![5-7.png](5-7.png)

### 8. Создайте 2 независимых PV на получившихся md-устройствах.

![5-8.png](5-8.png)

### 9. Создайте общую volume-group на этих двух PV.

![5-9.png](5-9.png)

### 10. Создайте LV размером 100 Мб, указав его расположение на PV с RAID0.

![5-10.png](5-10.png)

### 11. Создайте mkfs.ext4 ФС на получившемся LV.

![5-11.png](5-11.png)

### 12. Смонтируйте этот раздел в любую директорию, например, /tmp/new.

![5-12.png](5-12.png)

### 13. Поместите туда тестовый файл, например wget https://mirror.yandex.ru/ubuntu/ls-lR.gz -O /tmp/new/test.gz.

![5-13.png](5-13.png)

### 14. Прикрепите вывод lsblk.

![5-14.png](5-14.png)

### 15. Протестируйте целостность файла.
> root@vagrant:~# gzip -t /tmp/new/test.gz
> 
> root@vagrant:~# echo $?
> 
> 0

![5-15.png](5-15.png)

### 16. Используя pvmove, переместите содержимое PV с RAID0 на RAID1.

![5-16.png](5-16.png)

### 17. Сделайте --fail на устройство в вашем RAID1 md.

![5-17.png](5-17.png)

### 18. Подтвердите выводом dmesg, что RAID1 работает в деградированном состоянии.

![5-18.png](5-18.png)

### 19. Протестируйте целостность файла, несмотря на "сбойный" диск он должен продолжать быть доступен.

![5-19.png](5-19.png)

### 20. Потушить хост vagrant destroy
>С этим проблем не возникнет)